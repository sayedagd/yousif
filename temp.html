<!DOCTYPE html>
<html lang="ar" dir="rtl" class="trl">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>General Court of Audit - Internal Portal</title>
  <link rel="icon" type="image/x-icon" href="img/fav.svg">
  <link rel="stylesheet" href="css/gca-rtl.css">
  <link rel="stylesheet" href="css/hugeicons-font.css">
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet">

  <style>
    /* Ensure Select2 dropdowns align correctly in RTL */
    .select2-container--default .select2-selection--single {
      text-align: right;
    }

    .select2-container--default .select2-results__option {
      text-align: right;
    }
  </style>

</head>

<body class="body">

  <!-- TopBar start -->
  <div class="container-fluid topbar bg-light px-5 py-2 mb-0 border-bottom">
    <div class="row align-items-center">
      <div class="col">
        <div class="d-flex flex-wrap align-items-center justify-content-start gap-2 ">
          <div class="d-flex align-items-center gap-1">
            <a id="printPageButton" type="button">
              <i class="gca-stroke gca-printer">
              </i>
            </a>
          </div>
          <a class="d-none d-md-block ">
            <i class="gca-stroke gca-calendar-03">
            </i>
            <span class="text-body-secondary">
              Monday, 22 July 2024, 16 Muharram 1446
            </span>
          </a>
        </div>
      </div>
      <div class="col">
        <div class="d-flex justify-content-end ">
          <div class="text-end">
            <div href="#" class="position-relative rounded-3 ">
              <i class="gca-stroke gca-user"></i>
              <span>Mohamed Abdulaziz</span>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>

  <!-- Header Navbar start -->
  <header class="header px-5 py-2 mb-0 border-bottom">
    <div class="fluid-container d-flex justify-content-between">
      <div class="d-flex flex-wrap align-items-center justify-content-start">
        <a href="/" class="d-flex align-items-center link-body-emphasis ">
          <img src="img/logo-colored.svg" alt="logo" height="60">
        </a>
        <ul class="d-none d-xl-flex nav main-nav justify-content-center ms-3">
          <li class="nav-item">
            <a href="index.html" class="nav-link position-relative text-decoration-none rounded-3 px-2 py-3">
              <i class="gca-stroke gca-home-05"></i>
              <span class="fw-bold">الرئيسية</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="transfers.html" class="nav-link position-relative text-decoration-none rounded-3 px-2 py-3">
              <i class="gca-stroke gca-license"></i>
              <span class="fw-bold">التحويلات</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="reports.html" class="nav-link position-relative text-decoration-none rounded-3 px-2 py-3">
              <i class="gca-stroke gca-teaching"></i>
              <span class="fw-bold">التقارير</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="vendorsReports.html" class="nav-link position-relative text-decoration-none rounded-3 px-2 py-3">
              <i class="gca-stroke gca-share-08"></i>
              <span class="fw-bold">تقرير المستفيدين</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="vendors.html" class="nav-link position-relative text-decoration-none rounded-3 px-2 py-3">
              <i class="gca-stroke gca-share-08"></i>
              <span class="fw-bold">المستفيدين</span>
            </a>
          </li>
          <li class="nav-item">
            <div class="dropdown-center">
              <a class="nav-link position-relative text-decoration-none rounded-3 px-2 py-3 fw-semibold dropdown-toggle"
                type="button" data-bs-toggle="dropdown" aria-expanded="false">
                <span class="fw-bold">خدمات الموظفين</span>
                <i class="gca-stroke gca-arrow-down-01"></i>
              </a>
              <ul class="dropdown-menu text-start">
                <li>
                  <a class="dropdown-item" href="emplyees.html">
                    <i class="gca-stroke gca-license-draft"></i>
                    <span class="fw-bold">جميع الموظفين</span>
                  </a>
                </li>
                <li>
                  <a class="dropdown-item" href="hrIndex.html">
                    <i class="gca-stroke gca-license-draft"></i>
                    <span class="fw-bold">جميع الطلبات</span>
                  </a>
                </li>
                <li>
                  <a class="dropdown-item" href="payroll.html">
                    <i class="gca-stroke gca-license-draft"></i>
                    <span class="fw-bold">مسيرات الرواتب</span>
                  </a>
                </li>
              </ul>
            </div>
          </li>
          <li class="nav-item">
            <div class="dropdown-center">
              <a class="nav-link position-relative text-decoration-none rounded-3 px-2 py-3 fw-semibold dropdown-toggle"
                type="button" data-bs-toggle="dropdown" aria-expanded="false">
                <span class="fw-bold">المشتريات</span>
                <i class="gca-stroke gca-arrow-down-01"></i>
              </a>
              <ul class="dropdown-menu text-start">
                <li>
                  <a class="dropdown-item" href="purchasingRequest.html">
                    <i class="gca-stroke gca-license-draft"></i>
                    <span class="fw-bold">إنشاء طلب</span>
                  </a>
                </li>
                <li>
                  <a class="dropdown-item" href="purchasing.html">
                    <i class="gca-stroke gca-license-draft"></i>
                    <span class="fw-bold">جميع الطلبات</span>
                  </a>
                </li>
                <li>
                  <a class="dropdown-item" href="reports.html">
                    <i class="gca-stroke gca-license-draft"></i>
                    <span class="fw-bold">التقارير</span>
                  </a>
                </li>
                <li>
                  <a class="dropdown-item" href="projects.html">
                    <i class="gca-stroke gca-license-draft"></i>
                    <span class="fw-bold">المشاريع</span>
                  </a>
                </li>
                <li>
                  <a class="dropdown-item" href="vendors.html">
                    <i class="gca-stroke gca-license-draft"></i>
                    <span class="fw-bold">المستفيدين</span>
                  </a>
                </li>
              </ul>
            </div>
          </li>
        </ul>
      </div>

      <div class="header-notification d-flex flex-wrap align-items-center justify-content-start">
        <!-- Notification Start -->
        <div class="d-flex dropdown me-0 me-sm-3 text-end">
          <div class="dropdown text-end">
            <a class=" btn-clean dropdown-toggle nav-link text-decoration-none rounded-3 ps-3 pe-5 py-3 "
              data-bs-toggle="dropdown" aria-expanded="false">
              <i class="gca-stroke gca-notification-02"></i>
              <span class="position-absolute top-30 translate-middle badge rounded-pill bg-danger">
                20
              </span>
            </a>
            <div class="dropdown-menu dropdown-notify dropdown-menu-end shadow">
              <div class="px-3 py-1 d-flex align-items-center justify-content-start">
                <h5 class="notiy-title mb-0">Notifications</h5>
              </div>
              <div class="notify-list">
                <div>
                  <a class="dropdown-item py-3" href="#">
                    <div class="d-flex align-items-start gap-3">
                      <div class="">
                        <i class="gca-stroke gca-comment-01"></i>
                      </div>
                      <div class="">
                        <h6 class="notify-title">New Comment</h6>
                        <p class="mb-0 notify-desc">Abdulaziz Ahmed replied on your comment</p>
                      </div>
                      <button type="button" class="btn-info">new</button>
                    </div>
                  </a>
                </div>
                <div>
                  <a class="dropdown-item py-3" href="#">
                    <div class="d-flex align-items-start gap-3">
                      <div class="">
                        <i class="gca-stroke gca-comment-01"></i>
                      </div>
                      <div class="">
                        <h6 class="notify-title">New Comment</h6>
                        <p class="mb-0 notify-desc">Abdulaziz Ahmed replied on your comment</p>
                      </div>
                      <button type="button" class="btn-info">new</button>
                    </div>
                  </a>
                </div>
                <div>
                  <a class="dropdown-item py-3" href="#">
                    <div class="d-flex align-items-start gap-3">
                      <div class="">
                        <i class="gca-stroke gca-comment-01"></i>
                      </div>
                      <div class="">
                        <h6 class="notify-title">New Comment</h6>
                        <p class="mb-0 notify-desc">Abdulaziz Ahmed replied on your comment</p>
                      </div>
                      <button type="button" class="btn-info">new</button>
                    </div>
                  </a>
                </div>
                <div>
                  <a class="dropdown-item py-3" href="#">
                    <div class="d-flex align-items-start gap-3">
                      <div class="">
                        <i class="gca-stroke gca-comment-01"></i>
                      </div>
                      <div class="">
                        <h6 class="notify-title">New Comment</h6>
                        <p class="mb-0 notify-desc">Abdulaziz Ahmed replied on your comment</p>
                      </div>
                      <button type="button" class="btn-info">new</button>
                    </div>
                  </a>
                </div>
                <div>
                  <a class="dropdown-item py-3" href="#">
                    <div class="d-flex align-items-start gap-3">
                      <div class="">
                        <i class="gca-stroke gca-comment-01"></i>
                      </div>
                      <div class="">
                        <h6 class="notify-title">New Comment</h6>
                        <p class="mb-0 notify-desc">Abdulaziz Ahmed replied on your comment</p>
                      </div>
                      <button type="button" class="btn-info">new</button>
                    </div>
                  </a>
                </div>
                <div class="d-flex justify-content-end p-3">
                  <button type="button" class="btn btn-clean .fs-7">
                    <i class="gca-stroke gca-arrow-right-02"></i>
                    View All
                  </button>
                </div>

              </div>
            </div>
          </div>
        </div>

        <!-- Mobile Offcanvas Toggle -->
        <button class="btn btn-light border-0 d-xl-none m-0 position-absolute end-0 bg-transparent"
          data-bs-toggle="offcanvas" data-bs-target="#mobileMenu">
          <i class="gca-stroke gca-stroke-40 gca-menu-01"></i>
        </button>
      </div>
    </div>
  </header>

  <!-- Offcanvas for Mobile/Tablet -->
  <div class="offcanvas offcanvas-end" id="mobileMenu">
    <div class="offcanvas-header">
      <h4 class="offcanvas-title">القائمة</h4>
      <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
      <!-- Logo -->
    </div>
    <hr class="mb-0" />
    <div class="offcanvas-body d-flex flex-column justify-content-between pt-0">
      <ul class="list-group list-group-flush">
        <li class="list-group-item">
          <a href="index.html" class="nav-link position-relative text-decoration-none rounded-3 px-2 py-3">
            <i class="gca-stroke gca-home-05"></i>
            <span class="fw-bold">الرئيسية</span>
          </a>
        </li>
        <li class="list-group-item">
          <a href="transfers.html" class="nav-link position-relative text-decoration-none rounded-3 px-2 py-3">
            <i class="gca-stroke gca-license"></i>
            <span class="fw-bold">التحويلات</span>
          </a>
        </li>
        <li class="list-group-item">
          <a href="reports.html" class="nav-link position-relative text-decoration-none rounded-3 px-2 py-3">
            <i class="gca-stroke gca-teaching"></i>
            <span class="fw-bold">التقارير</span>
          </a>
        </li>
        <li class="list-group-item">
          <a href="vendorsReports.html" class="nav-link position-relative text-decoration-none rounded-3 px-2 py-3">
            <i class="gca-stroke gca-share-08"></i>
            <span class="fw-bold">تقرير المستفيدين</span>
          </a>
        </li>
        <li class="list-group-item">
          <a href="vendors.html" class="nav-link position-relative text-decoration-none rounded-3 px-2 py-3">
            <i class="gca-stroke gca-share-08"></i>
            <span class="fw-bold">المستفيدين</span>
          </a>
        </li>
        <li class="list-group-item">
          <a href="#menu1" class="d-flex justify-content-between align-items-center menu-item border-0 fw-bold"
            data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="menu1">
            <span>
              <i class="gca-stroke gca-license-draft"></i>
              خدمات الموظفين
            </span>
            <i class="gca-stroke gca-arrow-down-01"></i>
          </a>
          <ul class="collapse list-unstyled submenu border-0 mt-2" id="menu1">
            <li>
              <a class="list-group-item border-0" href="hrRequests.html">
                <i class="gca-stroke gca-license-draft"></i>
                <span class="fw-bold">جميع الموظفين</span>
              </a>
            </li>
            <li>
              <a class="list-group-item border-0" href="payroll.html">
                <i class="gca-stroke gca-license-draft"></i>
                <span class="fw-bold">مسيرات الرواتب</span>
              </a>
            </li>
            <li>
              <a class="list-group-item border-0" href="all-forms.html">
                <i class="gca-stroke gca-license-draft"></i>
                <span class="fw-bold">جميع الطلبات</span>
              </a>
            </li>
          </ul>
        </li>
      </ul>
      <div class="d-flex flex-column align-items-start gap-3 px-3">
        <!-- User Profile Start -->
        <div class="profile">
          <div class="dropdown">
            <a href="#" class="d-block link-body-emphasis ">
              <div class="d-flex align-items-center gap-2">
                <i class="gca-stroke gca-stroke-40 gca-user"></i>
                <ul class="m-0 list-unstyled text-start ">
                  <li class="m-0 p-0">
                    <h4 class="m-0 fs-6 fw-bold">User Name</h4>
                  </li>
                  <li class="m-0 p-0">
                    <p class="m-0">Manager</p>
                  </li>
                </ul>
              </div>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Breadcrumb -->
  <div class="container-fluid px-3 px-md-6 breadcrumb-bg py-4">
    <div class="row mx-auto">
      <h3 class="fs-3 fw-bold mb-0">المشتريات</h3>
      <div class="col">
        <nav aria-label="breadcrumb">
          <ol id="breadcrumb_id" class="breadcrumb">
            <li class="breadcrumb-item text-black" aria-current="page">
              <a href="hrIndex.html">الرئيسية</a>
            </li>
            <li class="breadcrumb-item text-black" aria-current="page">
              <a href="#">إنشاء طلب </a>
            </li>
          </ol>
        </nav>
      </div>
    </div>
  </div>

  <div class="container-fluid mt-5">
    <form>
      <!-- Project Dropdown -->
      <div class="mb-3">
        <label for="project" class="form-label">اختر المشروع</label>
        <select class="form-select select2" id="project" name="project">
          <option value="">اختر مشروعًا</option>
          <option value="project1">المشروع 1</option>
          <option value="project2">المشروع 2</option>
          <option value="project3">المشروع 3</option>
          <option value="project4">المشروع 4</option>
          <option value="project5">المشروع 5</option>
        </select>
      </div>

      <!-- Employee/Vendor Radio Buttons (Hidden by Default) -->
      <div id="personTypeSection" class="mb-3" style="display: none;">
        <label class="form-label">اختر نوع الشخص</label>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="personType" id="employee" value="employee">
          <label class="form-check-label" for="employee">موظف</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="personType" id="vendor" value="vendor">
          <label class="form-check-label" for="vendor">مورد</label>
        </div>
      </div>

      <!-- Employee Dropdown (Hidden by Default) -->
      <div id="employeeSection" class="mb-3" style="display: none;">
        <label for="employeeList" class="form-label">اختر الموظف</label>
        <select class="form-select select2" id="employeeList" name="employeeList">
          <option value="">اختر موظفًا</option>
          <option value="emp1">الموظف 1</option>
          <option value="emp2">الموظف 2</option>
          <option value="emp3">الموظف 3</option>
          <option value="emp4">الموظف 4</option>
          <option value="emp5">الموظف 5</option>
        </select>
      </div>

      <!-- Vendor Dropdown (Hidden by Default) -->
      <div id="vendorSection" class="mb-3" style="display: none;">
        <label for="vendorList" class="form-label">اختر المورد</label>
        <select class="form-select select2" id="vendorList" name="vendorList">
          <option value="">اختر موردًا</option>
          <option value="vendor1">المورد 1</option>
          <option value="vendor2">المورد 2</option>
          <option value="vendor3">المورد 3</option>
          <option value="vendor4">المورد 4</option>
          <option value="vendor5">المورد 5</option>
        </select>
      </div>

      <!-- Regular/Urgent Radio Buttons (Hidden by Default) -->
      <div id="prioritySection" class="mb-3" style="display: none;">
        <label class="form-label">اختر الأولوية</label>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="priority" id="regular" value="regular">
          <label class="form-check-label" for="regular">عادي</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="priority" id="urgent" value="urgent">
          <label class="form-check-label" for="urgent">عاجل</label>
        </div>
      </div>

      <!-- Additional Fields (Hidden by Default) -->
      <div id="additionalFields" class="mb-3" style="display: none;">
        <button type="button" id="createTableRow" class="btn btn-primary mb-3">إنشاء صف في الجدول</button>
        <button type="button" id="uploadAttachment" class="btn btn-secondary mb-3">تحميل المرفقات</button>
      </div>

      <!-- Table for Rows -->
      <table id="requestTable" class="table table-bordered mt-3" style="display: none;">
        <thead>
          <tr>
            <th>#</th>
            <th>التفاصيل</th>
            <th>سعر الوحدة</th>
            <th>الكمية</th>
            <th>النوع</th>
            <th>ضريبة القيمة المضافة (%)</th>
            <th>قيمة الضريبة</th>
            <th>المبلغ الإجمالي</th>
            <th>الإجراء</th>
          </tr>
        </thead>
        <tbody>
          <!-- Rows will be added dynamically here -->
        </tbody>
        <tfoot>
          <tr>
            <td colspan="6" class="text-start"><strong>إجمالي المبالغ:</strong></td>
            <td id="totalVatValue" class="text-start">0.00</td>
            <td id="totalAmount" class="text-start">0.00</td>
            <td></td>
          </tr>
          <tr>
            <td colspan="7" class="text-start"><strong>إجمالي المبلغ مع الضريبة:</strong></td>
            <td id="totalAmountPlusVat" class="text-start">0.00</td>
            <td></td>
          </tr>
        </tfoot>
      </table>

      <!-- Notes and Save Buttons (Below the Table) -->
      <div id="notesAndSaveSection" class="mb-3" style="display: none;">
        <div class="mb-3">
          <label for="notes" class="form-label">ملاحظات</label>
          <textarea class="form-control" id="notes" rows="3"></textarea>
        </div>
        <button type="button" id="save" class="btn btn-success">حفظ</button>
        <button type="button" id="saveDraft" class="btn btn-warning">حفظ كمسودة</button>
      </div>
    </form>
  </div>

  <!-- Footer Begin -->
  <div class="container-fluid fixed-bottom bg-success px-5 py-5 mt-5">
    <div
      class="row row row-cols-1 row-cols-md-2 gy-4 gy-md-7 d-flex justify-content-between justify-content-md-center align-items-center">
      <div class="col">
        <div class="d-flex justify-content-md-start justify-content-sm-center">
          <p class="text-white">جميع الحقوق محفوظة لشركة أعمال طروق للمقاولات © 2024</p>
        </div>
      </div>
      <div class="col">
        <ul
          class="d-flex justify-content-md-end justify-content-sm-between justify-content-xs-between list-unstyled gap-3">
          <li>
            <img src="img/logo-white.svg" alt="logo" height="50" />
          </li>
          <li>
            <img src="img/2030-logo.svg" alt="logo" height="50" />
          </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Body End -->
  <script src="js/bootstrap.bundle.min.js"></script>
  <script src="js/index.js"></script>
  <!-- jQuery (Required for Select2) -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <!-- Select2 JS -->
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <!-- Custom JavaScript -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      // Initialize Select2 for all dropdowns with the class 'select2'
      $('.select2').select2();

      const projectSelect = document.getElementById('project');
      const personTypeSection = document.getElementById('personTypeSection');
      const employeeSection = document.getElementById('employeeSection');
      const vendorSection = document.getElementById('vendorSection');
      const prioritySection = document.getElementById('prioritySection');
      const additionalFields = document.getElementById('additionalFields');
      const notesAndSaveSection = document.getElementById('notesAndSaveSection');
      const requestTable = document.getElementById('requestTable');
      const createTableRowBtn = document.getElementById('createTableRow');
      const tableBody = requestTable.querySelector('tbody');
      const totalVatValue = document.getElementById('totalVatValue');
      const totalAmount = document.getElementById('totalAmount');
      const totalAmountPlusVat = document.getElementById('totalAmountPlusVat');

      let rowCount = 0;

      // Show Person Type Section when a project is selected
      projectSelect.addEventListener('change', function () {
        if (projectSelect.value) {
          personTypeSection.style.display = 'block';
        } else {
          personTypeSection.style.display = 'none';
          employeeSection.style.display = 'none';
          vendorSection.style.display = 'none';
          prioritySection.style.display = 'none';
          additionalFields.style.display = 'none';
          requestTable.style.display = 'none';
          notesAndSaveSection.style.display = 'none';
        }
      });

      // Show Employee or Vendor Section based on selection
      document.querySelectorAll('input[name="personType"]').forEach((radio) => {
        radio.addEventListener('change', function () {
          if (document.getElementById('employee').checked) {
            employeeSection.style.display = 'block';
            vendorSection.style.display = 'none';
          } else if (document.getElementById('vendor').checked) {
            vendorSection.style.display = 'block';
            employeeSection.style.display = 'none';
          }
          prioritySection.style.display = 'block';
        });
      });

      // Show Additional Fields after selecting priority
      document.querySelectorAll('input[name="priority"]').forEach((radio) => {
        radio.addEventListener('change', function () {
          additionalFields.style.display = 'block';
          requestTable.style.display = 'block';
          notesAndSaveSection.style.display = 'block';
        });
      });

      // Add a new row to the table
      createTableRowBtn.addEventListener('click', function () {
        rowCount++;
        const newRow = document.createElement('tr');
        newRow.innerHTML = `
            <td>${rowCount}</td>
            <td><textarea class="form-control details" name="details" rows="2"></textarea></td>
            <td><input type="number" class="form-control unit-price" name="unitPrice"></td>
            <td><input type="number" class="form-control quantity" name="quantity"></td>
            <td>
              <select class="form-select" name="type">
                <option value="type1">النوع 1</option>
                <option value="type2">النوع 2</option>
                <option value="type3">النوع 3</option>
              </select>
            </td>
            <td>
              <select class="form-select vat-rate" name="vat">
                <option value="0">0%</option>
                <option value="15">15%</option>
              </select>
            </td>
            <td><input type="number" class="form-control vat-value" name="vatValue" readonly></td>
            <td><input type="number" class="form-control total-amount" name="totalAmount" readonly></td>
            <td><button type="button" class="btn btn-danger btn-sm delete-row">حذف</button></td>
          `;
        tableBody.appendChild(newRow);

        // Add event listeners to calculate VAT and total amount
        const unitPriceInput = newRow.querySelector('.unit-price');
        const quantityInput = newRow.querySelector('.quantity');
        const vatRateSelect = newRow.querySelector('.vat-rate');
        const vatValueInput = newRow.querySelector('.vat-value');
        const totalAmountInput = newRow.querySelector('.total-amount');

        const calculateRow = () => {
          const unitPrice = parseFloat(unitPriceInput.value) || 0;
          const quantity = parseFloat(quantityInput.value) || 0;
          const vatRate = parseFloat(vatRateSelect.value) || 0;

          const vatValue = (unitPrice * quantity * vatRate) / 100;
          const totalAmount = (unitPrice * quantity) + vatValue;

          vatValueInput.value = vatValue.toFixed(2);
          totalAmountInput.value = totalAmount.toFixed(2);

          updateTotals();
        };

        unitPriceInput.addEventListener('input', calculateRow);
        quantityInput.addEventListener('input', calculateRow);
        vatRateSelect.addEventListener('change', calculateRow);

        // Add event listener to delete the row
        const deleteButton = newRow.querySelector('.delete-row');
        deleteButton.addEventListener('click', function () {
          newRow.remove();
          updateTotals();
        });
      });

      // Update totals for all rows
      function updateTotals() {
        let totalVat = 0;
        let totalAmountAll = 0;

        document.querySelectorAll('tbody tr').forEach((row) => {
          const vatValue = parseFloat(row.querySelector('.vat-value').value) || 0;
          const totalAmount = parseFloat(row.querySelector('.total-amount').value) || 0;

          totalVat += vatValue;
          totalAmountAll += totalAmount;
        });

        totalVatValue.textContent = totalVat.toFixed(2);
        totalAmount.textContent = totalAmountAll.toFixed(2);
        totalAmountPlusVat.textContent = (totalAmountAll + totalVat).toFixed(2);
      }
    });
  </script>
</body>

</html>